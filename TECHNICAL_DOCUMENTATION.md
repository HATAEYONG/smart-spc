# APS-CPS Scheduler - ê¸°ìˆ  ë¬¸ì„œ

## ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
3. [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
4. [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
5. [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](#ë°ì´í„°ë² ì´ìŠ¤-ìŠ¤í‚¤ë§ˆ)
6. [API ì—”ë“œí¬ì¸íŠ¸](#api-ì—”ë“œí¬ì¸íŠ¸)
7. [í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°](#í”„ë¡ íŠ¸ì—”ë“œ-êµ¬ì¡°)
8. [ë°°í¬ ê°€ì´ë“œ](#ë°°í¬-ê°€ì´ë“œ)
9. [ê°œë°œ ê°€ì´ë“œ](#ê°œë°œ-ê°€ì´ë“œ)

---

## í”„ë¡œì íŠ¸ ê°œìš”

### í”„ë¡œì íŠ¸ëª…
**Online APS-CPS Scheduler** (Advanced Planning & Scheduling with Cyber-Physical System)

### ëª©ì 
ì œì¡° í˜„ì¥ì˜ ìƒì‚° ê³„íš ë° ìŠ¤ì¼€ì¤„ë§ì„ ìµœì í™”í•˜ê³ , ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë° ì‹œë®¬ë ˆì´ì…˜ì„ í†µí•´ íš¨ìœ¨ì ì¸ ìƒì‚° ê´€ë¦¬ë¥¼ ì§€ì›í•˜ëŠ” í†µí•© ì‹œìŠ¤í…œ

### ì£¼ìš” íŠ¹ì§•
- ğŸ§¬ ìœ ì „ ì•Œê³ ë¦¬ì¦˜(GA) ê¸°ë°˜ ìƒì‚° ìŠ¤ì¼€ì¤„ë§ ìµœì í™”
- ğŸ“Š ì‹¤ì‹œê°„ ìƒì‚° ëª¨ë‹ˆí„°ë§ ë° KPI ëŒ€ì‹œë³´ë“œ
- ğŸ¯ What-If ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„ ë° ì œì•½ì¡°ê±´ ê´€ë¦¬
- ğŸ“ˆ ë³‘ëª© ë¶„ì„ ë° ì„±ëŠ¥ ìµœì í™”
- ğŸ“„ ë‹¤ì–‘í•œ í¬ë§·ì˜ ë¦¬í¬íŠ¸ ìƒì„± ë° ë‚´ë³´ë‚´ê¸°
- âš™ï¸ ì‚¬ìš©ì ë§ì¶¤ ì„¤ì • ë° í”„ë¦¬ì…‹ ê´€ë¦¬

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ êµ¬ì¡°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (React)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚Dashboard â”‚ Plans    â”‚ Monitoringâ”‚ Settings         â”‚ â”‚
â”‚  â”‚          â”‚ (Gantt)  â”‚ & Reports â”‚ & Presets        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Backend (Django REST Framework)             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ APS      â”‚ Scenario â”‚ Constraintâ”‚ Monitoring       â”‚ â”‚
â”‚  â”‚ Engine   â”‚ Analysis â”‚ Manager   â”‚ System           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Database (PostgreSQL / SQLite)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Plans    â”‚ Events   â”‚ Metrics  â”‚ Settings         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì»´í¬ë„ŒíŠ¸ êµ¬ì„±

#### Backend Layer
- **Django REST Framework**: RESTful API ì„œë²„
- **Celery Worker**: ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬ (ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰)
- **PostgreSQL/SQLite**: ë°ì´í„° ì˜ì†ì„±

#### Frontend Layer
- **React 18**: UI ì»´í¬ë„ŒíŠ¸ í”„ë ˆì„ì›Œí¬
- **React Router**: í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ìš°íŒ…
- **Recharts**: ë°ì´í„° ì‹œê°í™”
- **Axios**: HTTP í´ë¼ì´ì–¸íŠ¸

---

## ê¸°ìˆ  ìŠ¤íƒ

### Backend
| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| Python | 3.11+ | ë°±ì—”ë“œ ì–¸ì–´ |
| Django | 4.2+ | ì›¹ í”„ë ˆì„ì›Œí¬ |
| Django REST Framework | 3.14+ | REST API |
| Celery | 5.3+ | ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬ |
| Redis | 7.0+ | ë©”ì‹œì§€ ë¸Œë¡œì»¤ |
| PostgreSQL | 14+ | ë°ì´í„°ë² ì´ìŠ¤ |
| DEAP | - | ìœ ì „ ì•Œê³ ë¦¬ì¦˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ |

### Frontend
| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| React | 18.2+ | UI í”„ë ˆì„ì›Œí¬ |
| TypeScript | 5.0+ | íƒ€ì… ì•ˆì •ì„± |
| Vite | 4.4+ | ë¹Œë“œ ë„êµ¬ |
| React Router DOM | 6.14+ | ë¼ìš°íŒ… |
| Recharts | 2.7+ | ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| Axios | 1.4+ | HTTP í´ë¼ì´ì–¸íŠ¸ |
| React Hot Toast | 2.4+ | ì•Œë¦¼ |
| Lucide React | - | ì•„ì´ì½˜ |

### DevOps
| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| Docker | ì»¨í…Œì´ë„ˆí™” |
| Docker Compose | ë©€í‹° ì»¨í…Œì´ë„ˆ ê´€ë¦¬ |
| Nginx | ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ |

---

## ì£¼ìš” ê¸°ëŠ¥

### Phase 1: ì¦‰ì‹œ íš¨ê³¼ ê¸°ëŠ¥

#### 1.1 ë³‘ëª© ë¶„ì„ ë° ìµœì í™”
**ìœ„ì¹˜**: `backend/apps/aps/models.py`, `frontend/src/pages/BottleneckAnalysisPage.tsx`

**ê¸°ëŠ¥**:
- ê¸°ê³„ë³„ í™œìš©ë¥  ë¶„ì„ (0-100%)
- ë³‘ëª© ì ìˆ˜ ê³„ì‚° (í™œìš©ë¥  50% + ëŒ€ê¸°ì—´ 30% + ëŒ€ê¸°ì‹œê°„ 20%)
- ì‹œê°í™”: í™œìš©ë¥  Bar Chart, íŠ¸ë Œë“œ Line Chart, íˆíŠ¸ë§µ
- ê°œì„  ê¶Œì¥ì‚¬í•­ ìë™ ìƒì„±

**ì£¼ìš” ì•Œê³ ë¦¬ì¦˜**:
```python
bottleneck_score = (utilization_rate * 0.5 +
                   min(queue_length * 10, 30) +
                   min(avg_waiting_time / 10, 20))

is_bottleneck = bottleneck_score >= 70
```

#### 1.2 Gantt ì°¨íŠ¸ ê³ ë„í™”
**ìœ„ì¹˜**: `frontend/src/components/GanttChartEnhanced.tsx`

**ê¸°ëŠ¥**:
- HTML5 ë„¤ì´í‹°ë¸Œ ë“œë˜ê·¸ ì•¤ ë“œë¡­
- ì‘ì—… ì‹œê°„ ì¡°ì • (Resize)
- ê¸°ê³„ ê°„ ì‘ì—… ì´ë™
- ì ê¸ˆ/ì‹¤í–‰ ì¤‘ ì‘ì—… ë³´í˜¸
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

**ì´ë²¤íŠ¸ ì²˜ë¦¬**:
```typescript
// ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ë¡œ ì‘ì—… ì´ë™
handleMouseDown -> handleMouseMove -> handleMouseUp

// ê¸°ê³„ ê°„ ë“œë˜ê·¸ ì•¤ ë“œë¡­
handleDragStart -> handleDragOver -> handleDrop
```

#### 1.3 ì„±ëŠ¥ ëŒ€ì‹œë³´ë“œ í™•ì¥
**ìœ„ì¹˜**: `frontend/src/pages/DashboardPageEnhanced.tsx`

**ê¸°ëŠ¥**:
- 5ê°œ ì£¼ìš” KPI ì¹´ë“œ
- ì„±ëŠ¥ íŠ¸ë Œë“œ Area Chart
- ê¸°ê³„ë³„ ë¹„êµ Bar Chart
- ë³‘ëª© ì•Œë¦¼ ë¦¬ìŠ¤íŠ¸

**KPI ì§€í‘œ**:
- Total Output (ì´ ìƒì‚°ëŸ‰)
- Plan Achievement (ê³„íš ë‹¬ì„±ë¥ )
- Avg Utilization (í‰ê·  í™œìš©ë¥ )
- Avg OEE (í‰ê·  ì¢…í•©ì„¤ë¹„íš¨ìœ¨)
- On-Time Delivery (ì •ì‹œ ë‚©í’ˆë¥ )

### Phase 2: ì¤‘ê¸° íš¨ê³¼ ê¸°ëŠ¥

#### 2.1 What-If ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„
**ìœ„ì¹˜**: `backend/apps/aps/scenario_models.py`, `frontend/src/pages/WhatIfScenarioPage.tsx`

**ê¸°ëŠ¥**:
- 4ê°€ì§€ ì‚¬ì „ ì •ì˜ í…œí”Œë¦¿
  - ê¸°ê³„ ì¦ì„¤ ì‹œë‚˜ë¦¬ì˜¤
  - ê¸°ê³„ ê³ ì¥ ì‹œë‚˜ë¦¬ì˜¤
  - ê¸´ê¸‰ ì‘ì—… ì¶”ê°€
  - ìƒì‚° ëŠ¥ë ¥ í–¥ìƒ
- ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í–‰ (GA ë˜ëŠ” Dispatch Rules)
- ë‹¤ì¤‘ ì‹œë‚˜ë¦¬ì˜¤ ë¹„êµ (Bar Chart, Radar Chart)

**ì‹œë‚˜ë¦¬ì˜¤ ìˆ˜ì • íƒ€ì…**:
```python
"add_machine"      # ê¸°ê³„ ì¶”ê°€
"remove_machine"   # ê¸°ê³„ ì œê±°
"change_capacity"  # ìƒì‚° ëŠ¥ë ¥ ë³€ê²½
"add_job"         # ì‘ì—… ì¶”ê°€
"modify_job"      # ì‘ì—… ìˆ˜ì •
```

#### 2.2 ì œì•½ì¡°ê±´ ê´€ë¦¬
**ìœ„ì¹˜**: `backend/apps/aps/constraint_models.py`, `frontend/src/pages/ConstraintManagementPage.tsx`

**ê¸°ëŠ¥**:
- 10ê°€ì§€ ì œì•½ì¡°ê±´ íƒ€ì… ì§€ì›
- ì œì•½ì¡°ê±´ ìœ„ë°˜ ì¶”ì  ë° í•´ê²°
- ìš°ì„ ìˆœìœ„ ê´€ë¦¬ (LOW, MEDIUM, HIGH, CRITICAL)
- ìœ„ë°˜ í˜ë„í‹° ì„¤ì •

**ì œì•½ì¡°ê±´ íƒ€ì…**:
1. MACHINE_AVAILABILITY - ê¸°ê³„ ê°€ìš©ì„±
2. PRECEDENCE - ì„ í–‰ ê´€ê³„
3. SETUP_TIME - ì¤€ë¹„ ì‹œê°„
4. SKILL_REQUIREMENT - ê¸°ìˆ  ìš”êµ¬ì‚¬í•­
5. MATERIAL_AVAILABILITY - ìì¬ ê°€ìš©ì„±
6. CAPACITY_LIMIT - ìš©ëŸ‰ ì œí•œ
7. TIME_WINDOW - ì‹œê°„ ì°½
8. BATCH_SIZE - ë°°ì¹˜ í¬ê¸°
9. RESOURCE_CONFLICT - ìì› ì¶©ëŒ
10. CUSTOM - ì‚¬ìš©ì ì •ì˜

#### 2.3 ì‘ì—… ìˆœì„œ ìµœì í™”
**ìœ„ì¹˜**: `backend/apps/aps/sequence_models.py`, `frontend/src/pages/JobSequencePage.tsx`

**ê¸°ëŠ¥**:
- 7ê°€ì§€ ì‹œí€€ì‹± ê·œì¹™ ë™ì‹œ ë¹„êµ
- ìˆ˜ë™ ìˆœì„œ ì¡°ì •
- ë‹¤ì¤‘ ëª©í‘œ ìµœì í™”
- ìˆœì„œ ë¹„êµ ë¶„ì„

**ì‹œí€€ì‹± ê·œì¹™**:
1. FIFO - First In First Out
2. SPT - Shortest Processing Time
3. LPT - Longest Processing Time
4. EDD - Earliest Due Date
5. CR - Critical Ratio
6. SLACK - Minimum Slack
7. WSPT - Weighted Shortest Processing Time

### Phase 3: ì‹œìŠ¤í…œ ì™„ì„±ë„ ê¸°ëŠ¥

#### 3.1 ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
**ìœ„ì¹˜**: `backend/apps/aps/monitoring_models.py`, `frontend/src/pages/RealtimeMonitoringPage.tsx`

**ê¸°ëŠ¥**:
- 6ëŒ€ ê¸°ê³„ ì‹¤ì‹œê°„ ìƒíƒœ ëª¨ë‹ˆí„°ë§
- 5ê°œ KPI ìš”ì•½ ì¹´ë“œ
- ì„±ëŠ¥ íŠ¸ë Œë“œ (12ì‹œê°„)
- ê¸°ê³„ ìƒíƒœ ë¶„í¬ Pie Chart
- í™œì„± ì•Œë¦¼ ê´€ë¦¬
- ìë™ ìƒˆë¡œê³ ì¹¨ (5s/10s/30s/1m)

**ê¸°ê³„ ìƒíƒœ**:
- RUNNING - ê°€ë™ ì¤‘
- IDLE - ëŒ€ê¸°
- SETUP - ì¤€ë¹„ ì¤‘
- MAINTENANCE - ì •ë¹„
- BREAKDOWN - ê³ ì¥
- WAITING - ìì¬ ëŒ€ê¸°

#### 3.2 ë¦¬í¬íŠ¸ ìƒì„± ë° ë‚´ë³´ë‚´ê¸°
**ìœ„ì¹˜**: `backend/apps/aps/report_models.py`, `frontend/src/pages/ReportsPage.tsx`

**ê¸°ëŠ¥**:
- 8ê°€ì§€ ë¦¬í¬íŠ¸ íƒ€ì…
- 4ê°€ì§€ í¬ë§· ì§€ì› (PDF, Excel, CSV, JSON)
- 3ê°œ ì‹œìŠ¤í…œ í…œí”Œë¦¿
- ë¹ ë¥¸ ë‚´ë³´ë‚´ê¸° (ìŠ¤ì¼€ì¤„, ì„±ëŠ¥ ë°ì´í„°)

**ë¦¬í¬íŠ¸ íƒ€ì…**:
1. Production Summary - ìƒì‚° ìš”ì•½
2. Performance Analysis - ì„±ëŠ¥ ë¶„ì„
3. Quality Report - í’ˆì§ˆ ë³´ê³ ì„œ
4. Schedule Adherence - ì¼ì • ì¤€ìˆ˜
5. Bottleneck Analysis - ë³‘ëª© ë¶„ì„
6. OEE Report - OEE ë³´ê³ ì„œ
7. Machine Utilization - ê¸°ê³„ í™œìš©ë„
8. Alert Summary - ì•Œë¦¼ ìš”ì•½

#### 3.3 ì‚¬ìš©ì ì„¤ì • ë° í”„ë¦¬ì…‹ ê´€ë¦¬
**ìœ„ì¹˜**: `backend/apps/aps/settings_models.py`, `frontend/src/pages/SettingsPage.tsx`

**ê¸°ëŠ¥**:
- 5ê°œ ì„¤ì • ì¹´í…Œê³ ë¦¬
- í”„ë¦¬ì…‹ ìƒì„±/ë³µì œ/ì‚­ì œ
- ì¦ê²¨ì°¾ê¸° ê´€ë¦¬
- ì„¤ì • ì´ˆê¸°í™”

**ì„¤ì • ì¹´í…Œê³ ë¦¬**:
1. UI Preferences - í…Œë§ˆ, ì–¸ì–´, íƒ€ì„ì¡´
2. Dashboard Preferences - ê¸°ë³¸ ëŒ€ì‹œë³´ë“œ, ìƒˆë¡œê³ ì¹¨ ê°„ê²©
3. Gantt Chart Preferences - ë·° ëª¨ë“œ
4. Notification Preferences - ì•Œë¦¼ í™œì„±í™”, ì‚¬ìš´ë“œ
5. Algorithm Preferences - ê¸°ë³¸ ì•Œê³ ë¦¬ì¦˜, GA íŒŒë¼ë¯¸í„°

---

## ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### í•µì‹¬ í…Œì´ë¸”

#### 1. StageFactPlanOut (ìƒì‚° ê³„íš)
```sql
CREATE TABLE stage_fact_plan_out (
    plan_id SERIAL PRIMARY KEY,
    wo_no VARCHAR(100),           -- ì‘ì—… ì§€ì‹œ ë²ˆí˜¸
    item_cd VARCHAR(100),          -- í’ˆëª© ì½”ë“œ
    mc_cd VARCHAR(20),             -- ê¸°ê³„ ì½”ë“œ
    fr_ts TIMESTAMP,               -- ì‹œì‘ ì‹œê°„
    to_ts TIMESTAMP,               -- ì¢…ë£Œ ì‹œê°„
    qty INTEGER,                   -- ìˆ˜ëŸ‰
    freeze_level INTEGER DEFAULT 0,
    locked_yn VARCHAR(1) DEFAULT 'N',
    decision_yn VARCHAR(1) DEFAULT 'N'
);
```

#### 2. BottleneckAnalysis (ë³‘ëª© ë¶„ì„)
```sql
CREATE TABLE aps_bottleneck_analysis (
    analysis_id SERIAL PRIMARY KEY,
    mc_cd VARCHAR(20) INDEX,
    utilization_rate FLOAT,
    bottleneck_score FLOAT,
    is_bottleneck BOOLEAN,
    recommendations JSONB,
    analyzed_at TIMESTAMP
);
```

#### 3. Scenario (ì‹œë‚˜ë¦¬ì˜¤)
```sql
CREATE TABLE aps_scenario (
    scenario_id SERIAL PRIMARY KEY,
    name VARCHAR(200),
    modifications JSONB,
    algorithm VARCHAR(50),
    status VARCHAR(20),
    results JSONB,
    created_at TIMESTAMP
);
```

#### 4. Constraint (ì œì•½ì¡°ê±´)
```sql
CREATE TABLE aps_constraint (
    constraint_id SERIAL PRIMARY KEY,
    name VARCHAR(200),
    constraint_type VARCHAR(50),
    priority VARCHAR(20),
    parameters JSONB,
    is_active BOOLEAN DEFAULT TRUE,
    violation_penalty FLOAT
);
```

#### 5. ProductionStatus (ìƒì‚° ìƒíƒœ)
```sql
CREATE TABLE aps_production_status (
    status_id SERIAL PRIMARY KEY,
    mc_cd VARCHAR(50) INDEX,
    status VARCHAR(20),
    current_wo_no VARCHAR(100),
    progress_percentage FLOAT,
    utilization_rate FLOAT,
    oee FLOAT,
    has_alert BOOLEAN,
    last_updated TIMESTAMP
);
```

#### 6. Report (ë¦¬í¬íŠ¸)
```sql
CREATE TABLE aps_report (
    report_id SERIAL PRIMARY KEY,
    name VARCHAR(200),
    report_type VARCHAR(50),
    start_date TIMESTAMP,
    end_date TIMESTAMP,
    data JSONB,
    export_format VARCHAR(20),
    status VARCHAR(20),
    created_at TIMESTAMP
);
```

#### 7. UserSettings (ì‚¬ìš©ì ì„¤ì •)
```sql
CREATE TABLE aps_user_settings (
    setting_id SERIAL PRIMARY KEY,
    user_id VARCHAR(100) UNIQUE INDEX,
    theme VARCHAR(20) DEFAULT 'LIGHT',
    language VARCHAR(10) DEFAULT 'ko',
    default_algorithm VARCHAR(50) DEFAULT 'GA',
    ga_population_size INTEGER DEFAULT 50,
    ga_generations INTEGER DEFAULT 100,
    custom_settings JSONB
);
```

#### 8. Preset (í”„ë¦¬ì…‹)
```sql
CREATE TABLE aps_preset (
    preset_id SERIAL PRIMARY KEY,
    name VARCHAR(200),
    preset_type VARCHAR(50),
    configuration JSONB,
    is_public BOOLEAN DEFAULT FALSE,
    is_favorite BOOLEAN DEFAULT FALSE,
    usage_count INTEGER DEFAULT 0,
    owner VARCHAR(100)
);
```

### ì¸ë±ìŠ¤ ì „ëµ
```sql
-- ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ì£¼ìš” ì¸ë±ìŠ¤
CREATE INDEX idx_plan_mc_cd ON stage_fact_plan_out(mc_cd);
CREATE INDEX idx_plan_time ON stage_fact_plan_out(fr_ts, to_ts);
CREATE INDEX idx_bottleneck_mc_cd ON aps_bottleneck_analysis(mc_cd, analyzed_at);
CREATE INDEX idx_status_mc_cd ON aps_production_status(mc_cd, last_updated);
CREATE INDEX idx_alert_severity ON aps_alert(severity, status);
```

---

## API ì—”ë“œí¬ì¸íŠ¸

### ê¸°ë³¸ êµ¬ì¡°
```
Base URL: http://localhost:8000/api/aps/
```

### 1. ìƒì‚° ê³„íš (Plans)
```
GET    /plans/                           # ê³„íš ëª©ë¡
POST   /plans/                           # ê³„íš ìƒì„±
GET    /plans/{id}/                      # ê³„íš ìƒì„¸
PUT    /plans/{id}/                      # ê³„íš ìˆ˜ì •
DELETE /plans/{id}/                      # ê³„íš ì‚­ì œ
POST   /plans/run_algorithm/             # ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰
GET    /plans/gantt_data/                # Gantt ì°¨íŠ¸ ë°ì´í„°
```

### 2. ì•Œê³ ë¦¬ì¦˜ ë¹„êµ (Comparison)
```
POST   /comparison/compare/              # ì•Œê³ ë¦¬ì¦˜ ë¹„êµ ì‹¤í–‰
GET    /comparison/{id}/results/         # ë¹„êµ ê²°ê³¼ ì¡°íšŒ
```

### 3. ë³‘ëª© ë¶„ì„ (Bottleneck)
```
POST   /bottleneck/run_analysis/         # ë¶„ì„ ì‹¤í–‰
GET    /bottleneck/heatmap/              # íˆíŠ¸ë§µ ë°ì´í„°
GET    /bottleneck/trends/               # íŠ¸ë Œë“œ ë°ì´í„°
```

### 4. ì„±ëŠ¥ ì§€í‘œ (Performance)
```
GET    /performance/summary/             # ì„±ëŠ¥ ìš”ì•½
GET    /performance/machine_comparison/  # ê¸°ê³„ë³„ ë¹„êµ
GET    /performance/trends/              # ì„±ëŠ¥ íŠ¸ë Œë“œ
GET    /performance/algorithm_history/   # ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰ ì´ë ¥
```

### 5. ì‹œë‚˜ë¦¬ì˜¤ (Scenarios)
```
GET    /scenarios/                       # ì‹œë‚˜ë¦¬ì˜¤ ëª©ë¡
POST   /scenarios/                       # ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±
POST   /scenarios/{id}/run/              # ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í–‰
POST   /scenarios/{id}/clone/            # ì‹œë‚˜ë¦¬ì˜¤ ë³µì œ
GET    /scenarios/templates/             # í…œí”Œë¦¿ ì¡°íšŒ
```

### 6. ì‹œë‚˜ë¦¬ì˜¤ ë¹„êµ (Scenario Comparisons)
```
POST   /scenario-comparisons/create_comparison/  # ë¹„êµ ìƒì„±
GET    /scenario-comparisons/{id}/                # ë¹„êµ ê²°ê³¼
```

### 7. ì œì•½ì¡°ê±´ (Constraints)
```
GET    /constraints/                     # ì œì•½ì¡°ê±´ ëª©ë¡
POST   /constraints/                     # ì œì•½ì¡°ê±´ ìƒì„±
POST   /constraints/{id}/toggle_active/  # í™œì„±í™” í† ê¸€
POST   /constraints/{id}/validate/       # ìœ íš¨ì„± ê²€ì¦
GET    /constraints/summary/             # ìš”ì•½ ì •ë³´
```

### 8. ì œì•½ì¡°ê±´ ìœ„ë°˜ (Violations)
```
GET    /violations/                      # ìœ„ë°˜ ëª©ë¡
POST   /violations/{id}/resolve/         # ìœ„ë°˜ í•´ê²°
```

### 9. ì‘ì—… ìˆœì„œ (Job Sequences)
```
GET    /job-sequences/                   # ìˆœì„œ ëª©ë¡
POST   /job-sequences/                   # ìˆœì„œ ìƒì„±
POST   /job-sequences/{id}/apply/        # ìˆœì„œ ì ìš©
POST   /job-sequences/{id}/reorder/      # ìˆœì„œ ì¬ë°°ì¹˜
POST   /job-sequences/{id}/clone/        # ìˆœì„œ ë³µì œ
```

### 10. ìˆœì„œ ìµœì í™” (Sequence Optimizations)
```
POST   /sequence-optimizations/optimize/ # ìµœì í™” ì‹¤í–‰
GET    /sequence-optimizations/{id}/     # ìµœì í™” ê²°ê³¼
```

### 11. ëª¨ë‹ˆí„°ë§ (Monitoring)
```
GET    /monitoring/realtime_status/      # ì‹¤ì‹œê°„ ìƒíƒœ
GET    /monitoring/kpi_summary/          # KPI ìš”ì•½
GET    /monitoring/performance_trends/   # ì„±ëŠ¥ íŠ¸ë Œë“œ
GET    /monitoring/active_alerts/        # í™œì„± ì•Œë¦¼
GET    /monitoring/machine_details/      # ê¸°ê³„ ìƒì„¸ ì •ë³´
```

### 12. ì•Œë¦¼ (Alerts)
```
GET    /alerts/                          # ì•Œë¦¼ ëª©ë¡
POST   /alerts/{id}/acknowledge/         # ì•Œë¦¼ í™•ì¸
POST   /alerts/{id}/resolve/             # ì•Œë¦¼ í•´ê²°
GET    /alerts/summary/                  # ì•Œë¦¼ ìš”ì•½
```

### 13. ë¦¬í¬íŠ¸ (Reports)
```
GET    /reports/                         # ë¦¬í¬íŠ¸ ëª©ë¡
POST   /reports/generate/                # ë¦¬í¬íŠ¸ ìƒì„±
GET    /reports/{id}/download/           # ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ
GET    /reports/templates/               # í…œí”Œë¦¿ ëª©ë¡
GET    /reports/recent/                  # ìµœê·¼ ë¦¬í¬íŠ¸
```

### 14. ë‚´ë³´ë‚´ê¸° (Exports)
```
POST   /exports/schedule/                # ìŠ¤ì¼€ì¤„ ë‚´ë³´ë‚´ê¸°
POST   /exports/performance_data/        # ì„±ëŠ¥ ë°ì´í„° ë‚´ë³´ë‚´ê¸°
GET    /exports/history/                 # ë‚´ë³´ë‚´ê¸° ì´ë ¥
```

### 15. ì‚¬ìš©ì ì„¤ì • (User Settings)
```
GET    /user-settings/my_settings/       # ì„¤ì • ì¡°íšŒ
PUT    /user-settings/my_settings/       # ì„¤ì • ì €ì¥
POST   /user-settings/reset_to_default/  # ê¸°ë³¸ê°’ ì´ˆê¸°í™”
GET    /user-settings/export_settings/   # ì„¤ì • ë‚´ë³´ë‚´ê¸°
```

### 16. í”„ë¦¬ì…‹ (Presets)
```
GET    /presets/                         # í”„ë¦¬ì…‹ ëª©ë¡
POST   /presets/                         # í”„ë¦¬ì…‹ ìƒì„±
POST   /presets/{id}/use/                # í”„ë¦¬ì…‹ ì‚¬ìš©
POST   /presets/{id}/toggle_favorite/    # ì¦ê²¨ì°¾ê¸° í† ê¸€
POST   /presets/{id}/duplicate/          # í”„ë¦¬ì…‹ ë³µì œ
GET    /presets/system_presets/          # ì‹œìŠ¤í…œ í”„ë¦¬ì…‹
GET    /presets/favorites/               # ì¦ê²¨ì°¾ê¸° ëª©ë¡
```

### ìš”ì²­/ì‘ë‹µ ì˜ˆì‹œ

#### ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰
```http
POST /api/aps/plans/run_algorithm/
Content-Type: application/json

{
  "algorithm": "GA",
  "params": {
    "population_size": 50,
    "generations": 100,
    "mutation_rate": 0.1
  }
}

Response:
{
  "status": "success",
  "execution_time": 15.3,
  "results": {
    "makespan": 1234.5,
    "total_delay": 45.2,
    "plans": [...]
  }
}
```

#### ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± ë° ì‹¤í–‰
```http
POST /api/aps/scenarios/
Content-Type: application/json

{
  "name": "ê¸°ê³„ ì¶”ê°€ ì‹œë‚˜ë¦¬ì˜¤",
  "modifications": [
    {
      "type": "add_machine",
      "machine": {
        "mc_cd": "MC007",
        "capacity": 100
      }
    }
  ],
  "algorithm": "GA"
}

Response:
{
  "scenario_id": 123,
  "status": "DRAFT",
  "created_at": "2025-12-29T10:00:00Z"
}
```

---

## í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°

### ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ Layout.tsx
â”‚   â”‚   â”œâ”€â”€ Layout.css
â”‚   â”‚   â”œâ”€â”€ GanttChart.tsx
â”‚   â”‚   â””â”€â”€ GanttChartEnhanced.tsx
â”‚   â”œâ”€â”€ pages/              # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ DashboardPageEnhanced.tsx
â”‚   â”‚   â”œâ”€â”€ PlansPage.tsx
â”‚   â”‚   â”œâ”€â”€ AlgorithmComparisonPage.tsx
â”‚   â”‚   â”œâ”€â”€ BottleneckAnalysisPage.tsx
â”‚   â”‚   â”œâ”€â”€ WhatIfScenarioPage.tsx
â”‚   â”‚   â”œâ”€â”€ ConstraintManagementPage.tsx
â”‚   â”‚   â”œâ”€â”€ JobSequencePage.tsx
â”‚   â”‚   â”œâ”€â”€ RealtimeMonitoringPage.tsx
â”‚   â”‚   â”œâ”€â”€ ReportsPage.tsx
â”‚   â”‚   â”œâ”€â”€ SettingsPage.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ config.ts           # ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ App.tsx             # ë©”ì¸ ì•±
â”‚   â””â”€â”€ main.tsx            # ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.ts
```

### ì£¼ìš” ì»´í¬ë„ŒíŠ¸

#### Layout (ê³µí†µ ë ˆì´ì•„ì›ƒ)
```typescript
const Layout = () => {
  const menuGroups = [
    { title: 'ëŒ€ì‹œë³´ë“œ', items: [...] },
    { title: 'APS', items: [...] },
    { title: 'CPS ì‹œë®¬ë ˆì´ì…˜', items: [...] },
    { title: 'ëª¨ë‹ˆí„°ë§', items: [...] },
    { title: 'ì„¤ì •', items: [...] }
  ];

  return (
    <div className="layout">
      <header className="top-bar">...</header>
      <nav className="side-nav">...</nav>
      <main className="content">
        <Outlet />
      </main>
    </div>
  );
};
```

#### GanttChartEnhanced (í–¥ìƒëœ Gantt ì°¨íŠ¸)
```typescript
const GanttChartEnhanced = ({ plans, machines, onPlanUpdate }) => {
  // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ìƒíƒœ ê´€ë¦¬
  const [dragState, setDragState] = useState(null);

  // ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ ì²˜ë¦¬
  const handleMouseDown = (e, plan, action) => {...};
  const handleMouseMove = (e) => {...};
  const handleMouseUp = () => {...};

  // ê¸°ê³„ ê°„ ë“œë˜ê·¸
  const handleDragStart = (e, plan) => {...};
  const handleDrop = (e, targetMachine) => {...};

  return <div className="gantt-chart">...</div>;
};
```

### ìƒíƒœ ê´€ë¦¬

#### ë¡œì»¬ ìƒíƒœ (useState)
```typescript
// í˜ì´ì§€ë³„ ë¡œì»¬ ìƒíƒœ
const [data, setData] = useState([]);
const [loading, setLoading] = useState(false);
const [selectedItem, setSelectedItem] = useState(null);
```

#### API í˜¸ì¶œ (useEffect)
```typescript
useEffect(() => {
  const loadData = async () => {
    try {
      const response = await axios.get(`${config.apiBaseUrl}/api/aps/...`);
      setData(response.data);
    } catch (error) {
      toast.error('Failed to load data');
    }
  };
  loadData();
}, [dependency]);
```

### ë¼ìš°íŒ…

```typescript
// App.tsx
<Routes>
  <Route path="/" element={<Layout />}>
    <Route index element={<DashboardPageEnhanced />} />
    <Route path="dashboard" element={<DashboardPageEnhanced />} />
    <Route path="plans" element={<PlansPage />} />
    <Route path="bottleneck-analysis" element={<BottleneckAnalysisPage />} />
    <Route path="whatif-scenarios" element={<WhatIfScenarioPage />} />
    <Route path="constraint-management" element={<ConstraintManagementPage />} />
    <Route path="job-sequence" element={<JobSequencePage />} />
    <Route path="realtime-monitoring" element={<RealtimeMonitoringPage />} />
    <Route path="reports" element={<ReportsPage />} />
    <Route path="settings" element={<SettingsPage />} />
  </Route>
</Routes>
```

---

## ë°°í¬ ê°€ì´ë“œ

### Docker Compose ë°°í¬

#### 1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# .env íŒŒì¼ ìƒì„±
cp .env.example .env

# í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜
POSTGRES_DB=aps_db
POSTGRES_USER=aps_user
POSTGRES_PASSWORD=secure_password
DJANGO_SECRET_KEY=your-secret-key
REDIS_URL=redis://redis:6379/0
```

#### 2. ì„œë¹„ìŠ¤ ì‹œì‘
```bash
# ì „ì²´ ì„œë¹„ìŠ¤ ë¹Œë“œ ë° ì‹œì‘
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f

# íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ ì¬ì‹œì‘
docker-compose restart backend
```

#### 3. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„±
docker-compose exec backend python manage.py makemigrations

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
docker-compose exec backend python manage.py migrate

# ìŠˆí¼ìœ ì € ìƒì„±
docker-compose exec backend python manage.py createsuperuser
```

#### 4. ì •ì  íŒŒì¼ ìˆ˜ì§‘
```bash
docker-compose exec backend python manage.py collectstatic --noinput
```

### í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ

```bash
cd frontend

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build

# ë¹Œë“œ ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸°
npm run preview
```

### Nginx ì„¤ì •

```nginx
# nginx.conf
upstream backend {
    server backend:8000;
}

server {
    listen 80;
    server_name your-domain.com;

    # Frontend
    location / {
        root /usr/share/nginx/html;
        try_files $uri $uri/ /index.html;
    }

    # Backend API
    location /api/ {
        proxy_pass http://backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    # Static files
    location /static/ {
        alias /app/staticfiles/;
    }

    # Media files
    location /media/ {
        alias /app/media/;
    }
}
```

---

## ê°œë°œ ê°€ì´ë“œ

### ê°œë°œ í™˜ê²½ ì„¤ì •

#### Backend
```bash
# Python ê°€ìƒí™˜ê²½ ìƒì„±
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r backend/requirements.txt

# ê°œë°œ ì„œë²„ ì‹¤í–‰
cd backend
python manage.py runserver

# Celery Worker ì‹¤í–‰ (ë³„ë„ í„°ë¯¸ë„)
celery -A config worker -l info
```

#### Frontend
```bash
cd frontend

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# TypeScript íƒ€ì… ì²´í¬
npm run type-check

# Linting
npm run lint
```

### ì½”ë“œ ìŠ¤íƒ€ì¼

#### Python (Backend)
```python
# PEP 8 ì¤€ìˆ˜
# Black formatter ì‚¬ìš©
# Docstring ì‘ì„±

class MyViewSet(viewsets.ModelViewSet):
    """
    API endpoint for managing resources.

    Provides CRUD operations and custom actions.
    """
    queryset = MyModel.objects.all()
    serializer_class = MySerializer

    @action(detail=False, methods=["post"])
    def custom_action(self, request):
        """
        Custom action description.

        Args:
            request: HTTP request object

        Returns:
            Response with action result
        """
        # Implementation
        pass
```

#### TypeScript (Frontend)
```typescript
// í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸
// Props íƒ€ì… ì •ì˜
// ëª…í™•í•œ ë³€ìˆ˜ëª…

interface MyComponentProps {
  data: DataType[];
  onAction: (id: number) => void;
}

const MyComponent: React.FC<MyComponentProps> = ({ data, onAction }) => {
  const [state, setState] = useState<StateType | null>(null);

  useEffect(() => {
    // Side effects
  }, [dependency]);

  return <div>...</div>;
};
```

### ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€

#### 1. Backend ëª¨ë¸ ì¶”ê°€
```python
# backend/apps/aps/models.py
class NewFeature(models.Model):
    feature_id = models.AutoField(primary_key=True)
    name = models.CharField(max_length=200)
    # ... í•„ë“œ ì •ì˜

    class Meta:
        db_table = "aps_new_feature"
        ordering = ["-created_at"]
```

#### 2. Serializer ì¶”ê°€
```python
# backend/apps/aps/serializers.py
class NewFeatureSerializer(serializers.ModelSerializer):
    class Meta:
        model = NewFeature
        fields = "__all__"
```

#### 3. ViewSet ì¶”ê°€
```python
# backend/apps/aps/views.py
class NewFeatureViewSet(viewsets.ModelViewSet):
    queryset = NewFeature.objects.all()
    serializer_class = NewFeatureSerializer

    @action(detail=False, methods=["post"])
    def custom_action(self, request):
        # ì»¤ìŠ¤í…€ ì•¡ì…˜ êµ¬í˜„
        pass
```

#### 4. URL ë“±ë¡
```python
# backend/apps/aps/urls.py
router.register(r'new-feature', NewFeatureViewSet, basename='new-feature')
```

#### 5. Frontend í˜ì´ì§€ ì¶”ê°€
```typescript
// frontend/src/pages/NewFeaturePage.tsx
const NewFeaturePage = () => {
  const [data, setData] = useState([]);

  useEffect(() => {
    loadData();
  }, []);

  const loadData = async () => {
    const response = await axios.get(`${config.apiBaseUrl}/api/aps/new-feature/`);
    setData(response.data);
  };

  return <div className="new-feature-page">...</div>;
};
```

#### 6. ë¼ìš°íŠ¸ ì¶”ê°€
```typescript
// frontend/src/App.tsx
import NewFeaturePage from './pages/NewFeaturePage';

<Route path="new-feature" element={<NewFeaturePage />} />
```

#### 7. ë©”ë‰´ ì¶”ê°€
```typescript
// frontend/src/components/Layout.tsx
{
  title: 'ê·¸ë£¹ëª…',
  items: [
    { path: '/new-feature', label: 'ìƒˆ ê¸°ëŠ¥', icon: 'ğŸ†•' }
  ]
}
```

### í…ŒìŠ¤íŠ¸

#### Backend í…ŒìŠ¤íŠ¸
```python
# backend/apps/aps/tests.py
from django.test import TestCase
from rest_framework.test import APIClient

class NewFeatureTestCase(TestCase):
    def setUp(self):
        self.client = APIClient()

    def test_create_feature(self):
        response = self.client.post('/api/aps/new-feature/', {
            'name': 'Test Feature'
        })
        self.assertEqual(response.status_code, 201)
```

ì‹¤í–‰:
```bash
python manage.py test apps.aps.tests
```

#### Frontend í…ŒìŠ¤íŠ¸ (ì˜ˆì‹œ)
```typescript
// frontend/src/pages/NewFeaturePage.test.tsx
import { render, screen } from '@testing-library/react';
import NewFeaturePage from './NewFeaturePage';

test('renders new feature page', () => {
  render(<NewFeaturePage />);
  const heading = screen.getByText(/ìƒˆ ê¸°ëŠ¥/i);
  expect(heading).toBeInTheDocument();
});
```

### ë””ë²„ê¹…

#### Backend ë””ë²„ê¹…
```python
# Django Debug Toolbar ì‚¬ìš©
# settings.py
INSTALLED_APPS += ['debug_toolbar']

# ë¡œê¹… ì„¤ì •
import logging
logger = logging.getLogger(__name__)

def my_view(request):
    logger.debug(f"Request data: {request.data}")
    # ...
```

#### Frontend ë””ë²„ê¹…
```typescript
// React DevTools ì‚¬ìš©
// ì½˜ì†” ë¡œê·¸
console.log('Data:', data);

// ë„¤íŠ¸ì›Œí¬ ìš”ì²­ í™•ì¸
axios.interceptors.request.use(request => {
  console.log('Request:', request);
  return request;
});
```

---

## ì„±ëŠ¥ ìµœì í™”

### Backend ìµœì í™”

#### 1. ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”
```python
# select_related (1:1, N:1)
Plan.objects.select_related('machine', 'item').all()

# prefetch_related (N:N, 1:N)
Plan.objects.prefetch_related('events').all()

# only() / defer()
Plan.objects.only('plan_id', 'wo_no')
```

#### 2. ìºì‹±
```python
from django.core.cache import cache

def get_expensive_data():
    cache_key = 'expensive_data'
    result = cache.get(cache_key)

    if result is None:
        result = expensive_computation()
        cache.set(cache_key, result, timeout=300)  # 5ë¶„

    return result
```

#### 3. í˜ì´ì§€ë„¤ì´ì…˜
```python
from rest_framework.pagination import PageNumberPagination

class StandardResultsSetPagination(PageNumberPagination):
    page_size = 20
    page_size_query_param = 'page_size'
    max_page_size = 100
```

### Frontend ìµœì í™”

#### 1. ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì´ì œì´ì…˜
```typescript
// React.memo
const ExpensiveComponent = React.memo(({ data }) => {
  return <div>{/* ... */}</div>;
});

// useMemo
const expensiveValue = useMemo(() => {
  return computeExpensiveValue(data);
}, [data]);

// useCallback
const handleClick = useCallback(() => {
  doSomething(id);
}, [id]);
```

#### 2. ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
```typescript
// Lazy loading
const LazyPage = React.lazy(() => import('./pages/LazyPage'));

<Suspense fallback={<div>Loading...</div>}>
  <LazyPage />
</Suspense>
```

#### 3. ë°ì´í„° Fetching ìµœì í™”
```typescript
// Promise.allë¡œ ë³‘ë ¬ ìš”ì²­
const loadData = async () => {
  const [data1, data2, data3] = await Promise.all([
    axios.get('/api/endpoint1'),
    axios.get('/api/endpoint2'),
    axios.get('/api/endpoint3')
  ]);
};
```

---

## ë³´ì•ˆ

### Backend ë³´ì•ˆ

#### 1. CORS ì„¤ì •
```python
# settings.py
CORS_ALLOWED_ORIGINS = [
    "http://localhost:3000",
    "https://your-domain.com"
]
```

#### 2. Authentication
```python
REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': [
        'rest_framework.authentication.SessionAuthentication',
        'rest_framework.authentication.TokenAuthentication',
    ],
}
```

#### 3. SQL Injection ë°©ì§€
```python
# ORM ì‚¬ìš© (ìë™ ì´ìŠ¤ì¼€ì´í”„)
Plan.objects.filter(wo_no=user_input)

# Raw SQL ì‚¬ìš© ì‹œ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©
cursor.execute("SELECT * FROM plans WHERE wo_no = %s", [user_input])
```

### Frontend ë³´ì•ˆ

#### 1. XSS ë°©ì§€
```typescript
// ReactëŠ” ìë™ìœ¼ë¡œ ì´ìŠ¤ì¼€ì´í”„
<div>{userInput}</div>

// dangerouslySetInnerHTML ì‚¬ìš© ì‹œ ì£¼ì˜
// DOMPurify ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ê¶Œì¥
```

#### 2. CSRF í† í°
```typescript
// Axios ì„¤ì •
axios.defaults.xsrfCookieName = 'csrftoken';
axios.defaults.xsrfHeaderName = 'X-CSRFToken';
```

---

## ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### ë¡œê¹… ì„¤ì •

```python
# settings.py
LOGGING = {
    'version': 1,
    'disable_existing_loggers': False,
    'handlers': {
        'file': {
            'level': 'INFO',
            'class': 'logging.FileHandler',
            'filename': 'logs/django.log',
        },
        'console': {
            'level': 'DEBUG',
            'class': 'logging.StreamHandler',
        },
    },
    'loggers': {
        'django': {
            'handlers': ['file', 'console'],
            'level': 'INFO',
            'propagate': True,
        },
        'apps.aps': {
            'handlers': ['file', 'console'],
            'level': 'DEBUG',
            'propagate': False,
        },
    },
}
```

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

```python
import time
from functools import wraps

def monitor_performance(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        start_time = time.time()
        result = func(*args, **kwargs)
        end_time = time.time()

        logger.info(f"{func.__name__} took {end_time - start_time:.2f} seconds")
        return result
    return wrapper

@monitor_performance
def expensive_operation():
    # ...
    pass
```

---

## ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œ

#### 1. CORS ì˜¤ë¥˜
```
Access to XMLHttpRequest has been blocked by CORS policy
```
**í•´ê²°**: `settings.py`ì—ì„œ `CORS_ALLOWED_ORIGINS` í™•ì¸

#### 2. ë§ˆì´ê·¸ë ˆì´ì…˜ ì¶©ëŒ
```
Conflicting migrations detected
```
**í•´ê²°**:
```bash
python manage.py makemigrations --merge
python manage.py migrate
```

#### 3. í¬íŠ¸ ì´ë¯¸ ì‚¬ìš© ì¤‘
```
Error: Port 8000 is already in use
```
**í•´ê²°**:
```bash
# Linux/Mac
lsof -ti:8000 | xargs kill -9

# Windows
netstat -ano | findstr :8000
taskkill /PID <PID> /F
```

#### 4. npm ì˜ì¡´ì„± ì˜¤ë¥˜
```
ERESOLVE unable to resolve dependency tree
```
**í•´ê²°**:
```bash
rm -rf node_modules package-lock.json
npm install --legacy-peer-deps
```

---

## ë²„ì „ íˆìŠ¤í† ë¦¬

### v1.0.0 (2025-12-29)
- âœ… ì´ˆê¸° ë¦´ë¦¬ìŠ¤
- âœ… Phase 1-3 ëª¨ë“  ê¸°ëŠ¥ êµ¬í˜„
- âœ… 12ê°œ ì£¼ìš” í˜ì´ì§€ ì™„ì„±
- âœ… 47ê°œ ì´ìƒ API ì—”ë“œí¬ì¸íŠ¸
- âœ… Docker Compose ë°°í¬ ì§€ì›

---

## ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

---

## ì—°ë½ì²˜ ë° ì§€ì›

- **í”„ë¡œì íŠ¸ ì €ì¥ì†Œ**: [GitHub Repository]
- **ì´ìŠˆ íŠ¸ë˜ì»¤**: [GitHub Issues]
- **ë¬¸ì„œ**: [Documentation Site]

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-12-29
**ë¬¸ì„œ ë²„ì „**: 1.0.0
